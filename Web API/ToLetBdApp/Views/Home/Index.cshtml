@model ToLetBdEntity.Post

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_VisitorLayout.cshtml";
}

<div class="col-md-12"> 

    <div class="panel panel-primary">
      <div class="panel-heading">All Posts</div>
      <div class="panel-body">

          <div class="panel panel-default"> 
              <div class="panel-body"> 
                  <div class="col-md-12 col-sm-12">
                    <form action="/Home/" method="post">                         
                         <div class="col-md-8">
                             <input type="text" name="address" class="form-control" placeholder="Search by specific area..."/>   
                
                          </div>
                        <div class="col-md-4">
                            <button class="btn btn-md btn-primary btn-block" type="submit">Search</button> 
                        </div>
                       </form>                  

                  </div>
              </div>
          </div>


          @if (TempData["msg"] != null)
            { 
            <p class="alert alert-danger">@TempData["msg"]</p>
            }

           @foreach(var post in ViewBag.allposts ){
          <div class="panel panel-success">
              <div class="panel-heading"><strong>@post.Title</strong></div>
              <div class="panel-body"> 
                 
                  

                  <div class="col-md-12"> 
                      <div class="row"> 
                          <div class="col-md-4"> 
                              <div class="row"> 
                                  @{
                                         ToLetBdRepository.PostImageRepository imgRepo = new ToLetBdRepository.PostImageRepository();
                                         ToLetBdEntity.PostImage img = imgRepo.GetImgByPostId(post.Id);
                                    }
                                  <img src="~/Content/PostImages/@img.ImgPath" class="img-rounded img-responsive" alt="Post Photo"  />
                              </div>
                          </div>
                          <div class="col-md-8"> 


                                  <div class="col-md-6">
                                      <p style="width:100%;"><strong>No of Room: @post.NoOfRoom</strong></p>
                                      <hr style="margin-top:0px;margin-bottom:0px;" />
                                      <p style="width:100%;"><strong>House Rent: @post.RoomRent tk</strong></p>
                                      <hr style="margin-top:0px;margin-bottom:0px;" />
                                      <p style="width:100%;"><strong>Address: @post.Address</strong></p>
                                  </div>
                                  <div class="col-md-6">
                                      <div class="row"><textarea style="width:100%; height:100px;">@post.ShortDesc</textarea></div>
                                  </div>

                                  <div class="col-md-12">
                                      <div class="row"> 

                                          <div class="col-md-12"> 
                                              <hr />
                                              
                                            <a href="/Home/ViewPost/@post.Id" style="text-decoration:none;">
                                                <button style="width:150px;" type="button" class="btn btn-success">View Details</button>
                                            </a> 
                                            
                                          </div>
                                      </div>
                                  </div>

                              
                          </div>
                      </div>
                  </div>
                  
                  
                  
              </div>
          </div>
           }
      </div>
    </div>
</div>

