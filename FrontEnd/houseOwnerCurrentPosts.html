<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width" />
    <title>House Owner Panel</title>
     <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script type="text/javascript" src="houseOwner.js"></script>
    
	
</head>
<body>

  <script type="text/javascript"> 
    var user = JSON.parse(sessionStorage.user);


     $("body").delegate('.publishBtn', 'click', function(){

        var id = $(this).val();
          $.ajax({ 
              url: 'http://localhost:2532/api/posts/'+id+'/publishPost',
              type: 'PUT',
                headers:{
            Authorization:'Basic '+btoa(user.Email+':'+user.Password)
          },
                complete: function(xmlhttp, status) {
                  if(xmlhttp.status==200){
                    
                    alert('Post Published!!');
                    window.location.href = "houseOwnerCurrentPosts.html";

                  }
                    
                }
            });
     });


      $("body").delegate('.disableBtn', 'click', function(){

        var id = $(this).val();
          $.ajax({ 
              url: 'http://localhost:2532/api/posts/'+id+'/disablePost',
              type: 'PUT',
                headers:{
            Authorization:'Basic '+btoa(user.Email+':'+user.Password)
          },
                complete: function(xmlhttp, status) {
                  if(xmlhttp.status==200){
                    
                    alert('Post Disabled!!');
                    window.location.href = "houseOwnerCurrentPosts.html";

                  }
                    
                }
            });
     });


      $("body").delegate('.deletePostBtn', 'click', function(){

        var id = $(this).val();
          $.ajax({ 
              url: 'http://localhost:2532/api/posts/'+id,
              type: 'DELETE',
                headers:{
            Authorization:'Basic '+btoa(user.Email+':'+user.Password)
          },
                complete: function(xmlhttp, status) {
                  if(xmlhttp.status==204){
                    
                    alert('Post Deleted!!');
                    window.location.href = "houseOwnerCurrentPosts.html";

                  }
                    
                }
            });
     });


  </script>

	<div class="container">
		
		<nav style="background-color: #fff;border-color: #1e88e5;border-width: 2px; text-decoration-color:#fff;" class="navbar navbar-default">

	        <div class="container-fluid">
	            
	            <div class="navbar-header">
	            	<div class="col-md-12">
                       <a style="text-decoration:none;" href="index.html"><h1 style="font-size:50px;">To Let BD</h1></a>
	            	</div>
	            </div>

	            
			    <ul class="nav navbar-nav navbar-right">
            <li><a id="userName" href="houseOwnerProfile.html"><span class="glyphicon glyphicon-user"></span> Nahid </a></li>
            <li><button style="padding: 15px; margin: 0px; border: none;" id="logout"><a><span class="glyphicon glyphicon-log-in"></span> Logout</a></button></li>
          </ul>
	               

	        </div>
		</nav>
		<div class="Main_body">
			<div class="row">
				<div class="col-md-3 col-sm-12">
					<div class="panel panel-primary" >
		                <div class="panel-heading">
		                    <div class="panel-title"> Menu </div>
		                </div> 
					    <div class="panel-body">
					   		 
				            <div class="row">
				            	<a href="houseOwner.html" class="list-group-item"><span class="glyphicon glyphicon-certificate"></span>&nbsp; Dashboard</a>

                        <a href="houseOwnerCurrentPosts.html" class="list-group-item"><span class="glyphicon glyphicon-certificate"></span>&nbsp; Current Posts</a>

                        <a href="houseOwnerNewPost.html" class="list-group-item"><span class="glyphicon glyphicon-certificate"></span>&nbsp; New Post</a>

		

				               
				            </div>
        
						</div>
					</div>
				</div>

			      

	<div class="col-md-9"> 

    <div class="panel panel-primary">
      <div class="panel-heading">Current Posts</div>
      <div id="currentPosts" class="panel-body">

          
          
      </div>
    </div>
</div>

				
			</div>
		</div>
	</div>

  

	
	
	




</body>
</html>

